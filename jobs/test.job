#!/bin/bash
#SBATCH --job-name=ednet_train
#SBATCH --partition=gpu        # or the GPU partition available
#SBATCH --gres=gpu:1           # request 1 GPU (adjust if you want more)
#SBATCH --ntasks=1
#SBATCH --cpus-per-task=8      # or more, depending on data loading
#SBATCH --mem=32G              # adjust to your needs
#SBATCH --time=10:00:00        # hh:mm:ss â€“ adjust based on how long training takes

# Load necessary modules
module load 2022
module load Python/3.10.4-GCCcore-11.3.0

# Activate virtual environment if you have one
source $HOME/venvs/ednet_env/bin/activate   # or however your env is set up

# Run training
python train.py --data MVRSD.yaml \
                --epochs 50 \
                --imgsz 640 \
                --weights pretrained/small.pt   # or whatever variant you want